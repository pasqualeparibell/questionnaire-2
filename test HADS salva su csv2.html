<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Hospital Anxiety and Depression Questionnaire (HADS)</title>
</head>
<style>
        
        /* Increase font size for multiple-choice questions */
        p {
            font-size: 1.2em; /* Adjust the font size as needed */
        }

        /* Increase font size for the button */
        button {
            font-size: 2.2em; /* Adjust the font size as needed */
        }

        /* Increase font size for dropdown menus and adjust their appearance for mobile devices */
        select {
            font-size: 2.2em; /* Adjust the font size as needed */
            padding: 10px; /* Increase padding to make the dropdowns taller */
            border: 2px solid #ccc; /* Add a border for better visibility */
            border-radius: 5px; /* Add rounded corners for a modern look */
            width: 100%; /* Make the dropdowns span the full width of their container */
        }
    </style>
<body>
    <h1>Questionario sull'Ansia e la Depressione (HADS) <br>
 Disclaimer:  Nessun dato inserito dall'utente viene registrato, trattasi unicamente di un calcolatore online finalizzato ad agevolare l'interazione dei partecipanti con i responsabili dell'evento SHARPER NIGHT 2023.
La privacy policy del sito che ospita questa pagina (tiiny.site) è disponibile su: https://tiiny.host/privacypolicy.html</h1>
    <form id="hads-form">
        <p>1. Mi sono sentito/a teso/a e molto nervoso/a</p>
        <label for="question1">Indicare elemento più rappresentativo:</label>
        <select id="question1" name="question1">
            <option value="3">Per la maggior parte del tempo</option>
            <option value="2">Per molto tempo</option>
            <option value="1">A volte</option>
            <option value="0">Mai</option>
        </select>
        <br>

        <p>2. Sono riuscito/a ancora a provare piacere per le cose che ho sempre fatto volentieri</p>
<label for="question2">Indicare elemento più rappresentativo:</label>
        <select id="question2" name="question2">
            <option value="0">Proprio come una volta</option>
            <option value="1">Non proprio come una volta</option>
            <option value="2">Solo in parte</option>
            <option value="3">Per niente</option>
        </select>
        <br>

   <p>3. Ho provato un sentimento di paura come se potesse accadere qualcosa di terribile</p>
<label for="question3">Indicare elemento più rappresentativo:</label>
        <select id="question3" name="question3">
            <option value="3">Sicuramente ed in maniera intensa </option>
            <option value="2">Sì, ma in maniera non troppo intensa</option>
            <option value="1">Un po' ma non da preoccuparmene</option>
            <option value="0">Per niente</option>
        </select>
        <br>
   <p>4. Sono riuscito/a a ridere e a vedere il lato divertente delle cose</p>
<label for="question4">Indicare elemento più rappresentativo:</label>
        <select id="question4" name="question4">
            <option value="0">Proprio come ho sempre fatto </option>
            <option value="1">Non proprio come un tempo</option>
            <option value="2">Sicuramente non come un tempo</option>
            <option value="3">Per niente</option>
        </select>
        <br>
<p>5. Mi sono venuti in mente pensieri preoccupanti</p>
<label for="question5">Indicare elemento più rappresentativo:</label>
        <select id="question5" name="question5">
            <option value="3">Per la maggior parte del tempo </option>
            <option value="2">Per molto tempo </option>
            <option value="1">A volte, non troppo spesso</option>
            <option value="0">Solo in qualche occasione</option>
        </select>
        <br>
<p>6. Mi sono sentito di buon umore</p>
<label for="question6">Indicare elemento più rappresentativo:</label>
        <select id="question6" name="question6">
            <option value="3">Mai </option>
            <option value="2">Raramente </option>
            <option value="1">A volte</option>
            <option value="0">Per la maggior parte del tempo</option>
        </select>
        <br>
<p>7. Ho potuto sedermi sentendomi rilassato e a mio agio</p>
<label for="question7">Indicare elemento più rappresentativo:</label>
        <select id="question7" name="question7">
            <option value="0">Sempre</option>
            <option value="1">Spesso</option>
            <option value="2">Qualche volta</option>
            <option value="3">Mai</option>
        </select>
        <br>
<p>8. Mi sono sentito rallentato/a nei movimenti</p>
<label for="question8">Indicare elemento più rappresentativo:</label>
        <select id="question8" name="question8">
            <option value="3">Quasi sempre</option>
            <option value="2">Molto spesso</option>
            <option value="1">A volte</option>
            <option value="0">Mai</option>
        </select>
        <br>
<p>9. Mi sono sentito/a nervoso/a, come con un senso di tensione allo stomaco</p>
<label for="question9">Indicare elemento più rappresentativo:</label>
        <select id="question9" name="question9">
            <option value="0">Mai</option>
            <option value="1">A volte</option>
            <option value="2">Piuttosto spesso</option>
            <option value="3">Molto spesso</option>
        </select>
        <br>

<p>10. Ho perso interesse per il mio aspetto fisico</p>
<label for="question10">Indicare elemento più rappresentativo:</label>
        <select id="question10" name="question10">
            <option value="3">Completamente </option>
            <option value="2">Non me ne prendo cura quanto dovrei </option>
            <option value="1">Forse non me ne prendo cura abbastanza</option>
            <option value="0">Me ne prendo cura come al solito </option>
        </select>
        <br>

<p>11. Mi sento irrequieto/a ed incapace di stare fermo/a</p>
<label for="question11">Indicare elemento più rappresentativo:</label>
        <select id="question11" name="question11">
            <option value="3">Moltissimo </option>
            <option value="2">Molto </option>
            <option value="1">Non molto</option>
            <option value="0">Per niente </option>
        </select>
        <br>


<p>12. Penso al futuro con ottimismo</p>
<label for="question12">Indicare elemento più rappresentativo:</label>
        <select id="question12" name="question12">
            <option value="0">Così come ho sempre fatto  </option>
            <option value="1">Un po' meno di una volta</option>
            <option value="2">Sicuramente meno di una volta </option>
            <option value="3">Per niente </option>
        </select>
        <br>

<p>13. Mi sono venute improvvise crisi di panico</p>
<label for="question13">Indicare elemento più rappresentativo:</label>
        <select id="question13" name="question13">
            <option value="3">Molto spesso  </option>
            <option value="2">Piuttosto spesso</option>
            <option value="1">Non molto spesso </option>
            <option value="0">Mai </option>
        </select>
        <br>
<p>14. Ho provato piacere leggendo un buon libro o seguendo la radio o la televisione</p>
<label for="question14">Indicare elemento più rappresentativo:</label>
        <select id="question14" name="question14">
            <option value="0">Spesso  </option>
            <option value="1">A volte</option>
            <option value="2">Non di frequente </option>
            <option value="3">Molto raramente </option>
        </select>
        <br>
<br>
<br>
        <button type="button" onclick="calculateResult()">Calcola il risultato</button>
    </form>

    <div id="result">
        <h2>Risultato:</h2>
        <p>Il tuo punteggio per l'ansia: <span id="anxiety-score">0</span></p>
        <p>Il tuo punteggio per la depressione: <span id="depression-score">0</span></p>
    </div>
<p>Ansia: 0-7 nella norma <br>
          8-10 casi al limite della norma <br>
          11-21 fuori dalla norma (consulta il tuo medico o uno specialista)</p>
<p>Depressione: 0-7 nella norma <br>
          8-10 casi al limite della norma <br>
          11-21 fuori dalla norma (consulta il tuo medico o uno specialista)</p>
    <script>
        function calculateResult() {
            const question1Value = parseInt(document.getElementById('question1').value);
const question2Value = parseInt(document.getElementById('question2').value)
const question3Value = parseInt(document.getElementById('question3').value)
const question4Value = parseInt(document.getElementById('question4').value)
const question5Value = parseInt(document.getElementById('question5').value)
const question6Value = parseInt(document.getElementById('question6').value)
const question7Value = parseInt(document.getElementById('question7').value)
const question8Value = parseInt(document.getElementById('question8').value)
const question9Value = parseInt(document.getElementById('question9').value)
const question10Value = parseInt(document.getElementById('question10').value)
const question11Value = parseInt(document.getElementById('question11').value)
const question12Value = parseInt(document.getElementById('question12').value)
const question13Value = parseInt(document.getElementById('question13').value)
const question14Value = parseInt(document.getElementById('question14').value)
            
// Add similar lines for other questions

            // Calculate the total scores for anxiety and depression
            const anxietyScore = question1Value + question3Value + question5Value + question7Value + question9Value + question11Value + question13Value; // Modify this based on your scoring logic
            const depressionScore = question2Value + question4Value + question6Value + question8Value + question10Value + question12Value + question14Value; // Modify this based on your scoring logic

            // Update the result on the page
            document.getElementById('anxiety-score').textContent = anxietyScore;
            document.getElementById('depression-score').textContent = depressionScore;
        }
    </script>
<script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>
    <script>
        // Function to save results and update CSV
        function saveAndUpdateCSV() {
            // Get the values from the form
            var anxietyScore = document.getElementById("anxiety-Score").value;
            var depressionScore = document.getElementById("depression-Score").value;

            // Retrieve existing data from local storage (if any)
            var existingData = localStorage.getItem("hads_results");

            // Create a new result object
            var result = {
                anxietyScore: anxietyScore,
                depressionScore: depressionScore,
                timestamp: new Date().toLocaleString() // Add a timestamp for reference
            };

            // Append the new result to the existing data (if any)
            var newData = existingData ? JSON.parse(existingData) : [];
            newData.push(result);

            // Save the updated data to local storage
            localStorage.setItem("hads_results", JSON.stringify(newData));

            // Alert the user that the data has been saved
            alert("Results have been saved.");

            // Clear the form fields
            document.getElementById("anxiety-Score").value = "";
            document.getElementById("depression-Score").value = "";

            // Create a CSV content string
            var csvContent = "Anxiety Score,Depression Score,Timestamp\n";

            // Convert the updated data to CSV format
            newData.forEach(function (entry) {
                csvContent += entry.anxietyScore + "," + entry.depressionScore + "," + entry.timestamp + "\n";
            });

            // Create a Blob with the updated CSV data
            var blob = new Blob([csvContent], { type: "text/csv" });

            // Create a download link for the Blob
            var link = document.createElement("a");
            link.href = window.URL.createObjectURL(blob);
            link.download = "hads_results.csv";

            // Trigger a click event on the link to initiate the download
            link.click();

            // Generate a QR code for the CSV data
            var qr = new QRCode(document.getElementById("qrcode"), {
                text: csvContent, // CSV data as text
                width: 128,
                height: 128
            });
        }
    </script>
</head>
<body>
<style>
        
        /* Increase font size for multiple-choice questions */
        p {
            font-size: 1.2em; /* Adjust the font size as needed */
        }

        /* Increase font size for the button */
        button {
            font-size: 2.2em; /* Adjust the font size as needed */
        }

        /* Increase font size for dropdown menus and adjust their appearance for mobile devices */
        select {
            font-size: 2.2em; /* Adjust the font size as needed */
            padding: 10px; /* Increase padding to make the dropdowns taller */
            border: 2px solid #ccc; /* Add a border for better visibility */
            border-radius: 5px; /* Add rounded corners for a modern look */
            width: 100%; /* Make the dropdowns span the full width of their container */
        }
    </style>

    <h1>HADS Digital Biomarker</h1>
    <form>
        <label for="anxiety-Score">Punteggio dell'ansia:</label>
        <input type="number" id="anxiety-Score" name="anxiety-Score" required><br><br>

        <label for="depression-Score">Punteggio della depressione:</label>
        <input type="number" id="depression-Score" name="depressionScore" required><br><br>

        <button type="button" onclick="saveAndUpdateCSV()">Salva i risultati ed aggiorna il  database CSV</button>
    </form>
    
    <div id="qrcode"></div> <!-- Container for the QR code -->
</body>
</html>
